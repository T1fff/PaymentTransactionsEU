[["index.html", "Análisis Exploratorio de Datos Chapter 1 Contexto inicial Objetivo del análisis Origen y descripción del dataset Identificación de valores faltantes", " Análisis Exploratorio de Datos Tiffany Mendoza S. y Sergio Rada 2026-02-22 Chapter 1 Contexto inicial Objetivo del análisis Construir un análisis exploratorio de datos que caracterice la base de datos financiera proveniente de los bancos centrales de la Unión Europea para reconocer inicialmente incidencias repetitivas asociadas a casos de fraude. Origen y descripción del dataset El presente dataset muestra estadisticas de alto nivel sobre el total de transacciones financieras legales y fraudulentas realizadas en la Unión Europea. Esta información es recolectada por el Banco Central Europeo (ECB), entidad que valida semestralmente los reportes enviados por los Bancos Centrales Nacionales del continente. La última actualización fue realizada el 29 de enero del presente año y se encuentra disponible en el repositorio publico de datos del ECB. Caracterización general Como veremos a continuación, el dataset cuenta con 662.616 transacciones caracterizadas en 29 columnas que serán descritas en la siguiente sección. nrow(datos) ## [1] 662616 ncol(datos) ## [1] 29 colnames(datos) ## [1] &quot;KEY&quot; &quot;FREQ&quot; &quot;REF_AREA&quot; &quot;COUNT_AREA&quot; ## [5] &quot;TYP_TRNSCTN&quot; &quot;RL_TRNSCTN&quot; &quot;FRD_TYP&quot; &quot;TRANSFORMATION&quot; ## [9] &quot;UNIT_MEASURE&quot; &quot;TIME_PERIOD&quot; &quot;OBS_VALUE&quot; &quot;OBS_STATUS&quot; ## [13] &quot;CONF_STATUS&quot; &quot;PRE_BREAK_VALUE&quot; &quot;COMMENT_OBS&quot; &quot;TIME_FORMAT&quot; ## [17] &quot;BREAKS&quot; &quot;COMMENT_TS&quot; &quot;COMPILING_ORG&quot; &quot;DISS_ORG&quot; ## [21] &quot;TIME_PER_COLLECT&quot; &quot;COVERAGE&quot; &quot;DATA_COMP&quot; &quot;DECIMALS&quot; ## [25] &quot;METHOD_REF&quot; &quot;TITLE&quot; &quot;TITLE_COMPL&quot; &quot;UNIT&quot; ## [29] &quot;UNIT_MULT&quot; str(datos) ## &#39;data.frame&#39;: 662616 obs. of 29 variables: ## $ KEY : chr &quot;PAY.A.AT.BG.TOTL.1._Z.N.PN&quot; &quot;PAY.A.AT.BG.TOTL.1._Z.N.PN&quot; &quot;PAY.A.AT.BG.TOTL.1._Z.N.PN&quot; &quot;PAY.A.AT.BG.TOTL.1._Z.N.PN&quot; ... ## $ FREQ : chr &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ... ## $ REF_AREA : chr &quot;AT&quot; &quot;AT&quot; &quot;AT&quot; &quot;AT&quot; ... ## $ COUNT_AREA : chr &quot;BG&quot; &quot;BG&quot; &quot;BG&quot; &quot;BG&quot; ... ## $ TYP_TRNSCTN : chr &quot;TOTL&quot; &quot;TOTL&quot; &quot;TOTL&quot; &quot;TOTL&quot; ... ## $ RL_TRNSCTN : chr &quot;1&quot; &quot;1&quot; &quot;1&quot; &quot;1&quot; ... ## $ FRD_TYP : chr &quot;_Z&quot; &quot;_Z&quot; &quot;_Z&quot; &quot;_Z&quot; ... ## $ TRANSFORMATION : chr &quot;N&quot; &quot;N&quot; &quot;N&quot; &quot;N&quot; ... ## $ UNIT_MEASURE : chr &quot;PN&quot; &quot;PN&quot; &quot;PN&quot; &quot;PN&quot; ... ## $ TIME_PERIOD : chr &quot;2014&quot; &quot;2015&quot; &quot;2016&quot; &quot;2017&quot; ... ## $ OBS_VALUE : num 0.242 0.268 0.689 0.632 0.615 ... ## $ OBS_STATUS : chr &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ... ## $ CONF_STATUS : logi FALSE FALSE FALSE FALSE FALSE FALSE ... ## $ PRE_BREAK_VALUE : logi NA NA NA NA NA NA ... ## $ COMMENT_OBS : chr &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ... ## $ TIME_FORMAT : chr &quot;P1Y&quot; &quot;P1Y&quot; &quot;P1Y&quot; &quot;P1Y&quot; ... ## $ BREAKS : logi NA NA NA NA NA NA ... ## $ COMMENT_TS : logi NA NA NA NA NA NA ... ## $ COMPILING_ORG : logi NA NA NA NA NA NA ... ## $ DISS_ORG : logi NA NA NA NA NA NA ... ## $ TIME_PER_COLLECT: chr &quot;S&quot; &quot;S&quot; &quot;S&quot; &quot;S&quot; ... ## $ COVERAGE : logi NA NA NA NA NA NA ... ## $ DATA_COMP : logi NA NA NA NA NA NA ... ## $ DECIMALS : int 3 3 3 3 3 3 3 3 3 3 ... ## $ METHOD_REF : chr &quot;unspecified&quot; &quot;unspecified&quot; &quot;unspecified&quot; &quot;unspecified&quot; ... ## $ TITLE : chr &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; ... ## $ TITLE_COMPL : chr &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; &quot;Total payment transactions, incl. cash withdrawals, sent to Bulgaria&quot; ... ## $ UNIT : chr &quot;PN&quot; &quot;PN&quot; &quot;PN&quot; &quot;PN&quot; ... ## $ UNIT_MULT : int 6 6 6 6 6 6 6 6 6 6 ... Diccionario de columnas 1. KEY: Identificador de transacción. 2. FREQ: Frecuencia con la que se realiza determinado pago (Anual, trimestral, semestral, etc.). 3. REF_AREA: País origen de la transacción. 4. COUNT_AREA: Institución origen de la transacción. 5. TYP_TRNSCTN: Clasificación de la transacción (Depósito, retiro, cheques, transferencias, etc.). 6. RL_TRNSCTN: Clasificación de la entidad procesa la transacción. 7. FRD_TYP: Clasificación del fraude (No autorizado, tarjeta robada, sin fraude, etc). 8. TRANSFORMATION: Transformación realizada a la transacción (niveles anuales, contribución a la tasa, promedio móvil, no aplica). 9. UNIT_MEASURE: Unidad o divisa involucrada en la transacción. 10. TIME_PERIOD: Año en el que se procesó la transacción. 11. OBS_VALUE: Monto de la transacción. 12. OBS_STATUS: Clasificación del monto de la transacción (revisado, no validado, valor provisional, etc). 13. CONF_STATUS: Clasificación de confidencialidad (Libre, restringido, etc). 14. PRE_BREAK_VALUE: No especificada en la documentación. 15. COMMENT_OBS: Observaciones. 16. TIME_FORMAT: Columna copia de FREQ. 17. BREAKS: No especificada en la documentación. 18. COMMENT_TS: No especificada en la documentación. 19. COMPILING_ORG: No especificada en la documentación. 20. DISS_ORG: No especificada en la documentación. 21. TIME_PER_COLLECT: No especificada en la documentación. 22. COVERAGE: No especificada en la documentación. 23. DATA_COMP: No especificada en la documentación. 24. DECIMALS: Indica la cantidad de decimales presentes en el monto. 25. METHOD_REF: Metodolofia utilizada para la recolección del dato. 26. TITLE: Descripción de transacción. 27. TITLE_COMPL: Columna copia de TITLE. 28. UNIT: Columna copia de UNIT_MEASURE. 29. UNIT_MULT: Indica el multiplicador del monto de la transacción. Columnas a utilizar Si se analiza detenidamente, se encuentran varias columnas con información duplicada. Del mismo modo, hay columnas cuya información no se encuentra adecuadamente documentada dificultando así la clasificación de su impacto en el conjunto de datos. Por tanto, solo se tendrán en cuenta las columnas listadas a continuación: 1. KEY &gt;&gt; ID: Identificador de transacción. 2. FREQ: Frecuencia con la que se realiza determinado pago (Anual, trimestral, semestral, etc.) 3. REF_AREA &gt;&gt; COUNTRY: País origen de la transacción. 4. COUNT_AREA &gt;&gt; ORGANIZATION: Institución origen de la transacción. 5. TYP_TRNSCTN &gt;&gt; TYPE_TRX : Clasificación de la transacción (Depósito, retiro, cheques, transferencias, etc.). 6. RL_TRNSCTN &gt;&gt; TYPE_PSP : Clasificación de la entidad procesa la transacción. 7. FRD_TYP &gt;&gt; TYPE_FRAUD: Clasificación del fraude (No autorizado, tarjeta robada, sin fraude, etc). 9. UNIT_MEASURE &gt;&gt; UNIT: Unidad o divisa involucrada en la transacción. 10. TIME_PERIOD &gt;&gt; YEAR: Año en el que se procesó la transacción. 11. OBS_VALUE &gt;&gt; AMOUNT: Monto de la transacción. 12. OBS_STATUS &gt;&gt; TYPE_AMOUNT: Clasificación del monto de la transacción (revisado, no validado, valor provisional, etc). 24. DECIMALS: Indica la cantidad de decimales presentes en el monto. 26. TITLE &gt;&gt; DESCRIPTION: Descripción de transacción. 29. UNIT_MULT: Indica el multiplicador del monto de la transacción. Dataframe resultante datos %&gt;% select(ID=KEY, FREQ, COUNTRY=REF_AREA, ORGANIZATION=COUNT_AREA, TYPE_TRX=TYP_TRNSCTN, TYPE_PSP=RL_TRNSCTN, TYPE_FRAUD=FRD_TYP, UNIT=UNIT_MEASURE, YEAR=TIME_PERIOD, AMOUNT=OBS_VALUE, TYPE_AMOUNT=OBS_STATUS, DECIMALS, DESCRIPTION=TITLE, UNIT_MULT) -&gt; df kable(head(df)) %&gt;% scroll_box(width = &quot;100%&quot;) ID FREQ COUNTRY ORGANIZATION TYPE_TRX TYPE_PSP TYPE_FRAUD UNIT YEAR AMOUNT TYPE_AMOUNT DECIMALS DESCRIPTION UNIT_MULT PAY.A.AT.BG.TOTL.1._Z.N.PN A AT BG TOTL 1 _Z PN 2014 0.242 A 3 Total payment transactions, incl. cash withdrawals, sent to Bulgaria 6 PAY.A.AT.BG.TOTL.1._Z.N.PN A AT BG TOTL 1 _Z PN 2015 0.268 A 3 Total payment transactions, incl. cash withdrawals, sent to Bulgaria 6 PAY.A.AT.BG.TOTL.1._Z.N.PN A AT BG TOTL 1 _Z PN 2016 0.689 A 3 Total payment transactions, incl. cash withdrawals, sent to Bulgaria 6 PAY.A.AT.BG.TOTL.1._Z.N.PN A AT BG TOTL 1 _Z PN 2017 0.632 A 3 Total payment transactions, incl. cash withdrawals, sent to Bulgaria 6 PAY.A.AT.BG.TOTL.1._Z.N.PN A AT BG TOTL 1 _Z PN 2018 0.615 A 3 Total payment transactions, incl. cash withdrawals, sent to Bulgaria 6 PAY.A.AT.BG.TOTL.1._Z.N.PN A AT BG TOTL 1 _Z PN 2019 1.467 A 3 Total payment transactions, incl. cash withdrawals, sent to Bulgaria 6 Identificación de valores faltantes missmap(df) df %&gt;% summarise(across(everything(), ~ sum(is.na(.)), .names = &quot;NA_{.col}&quot;)) ## NA_ID NA_FREQ NA_COUNTRY NA_ORGANIZATION NA_TYPE_TRX NA_TYPE_PSP ## 1 0 0 0 0 0 0 ## NA_TYPE_FRAUD NA_UNIT NA_YEAR NA_AMOUNT NA_TYPE_AMOUNT NA_DECIMALS ## 1 0 0 0 143875 0 0 ## NA_DESCRIPTION NA_UNIT_MULT ## 1 0 0 Al explorar un poco más el dataset, se encuentra que la mayoría de columnas tienen 0 valores faltantes en las observaciones. Aún así, es importante destacar que la columna AMOUNT concentra el total de missing values con 143875 NAs. "],["analisis-univariado.html", "Chapter 2 Analisis Univariado Target Variable: TYPE_FRAUD Variables Características Categóricas", " Chapter 2 Analisis Univariado A continuación se procederá a examinar cada variable de forma individual con el objetivo de entender su distribución, medidas centrales y de dispersión. Para complementar el análisis utilizaremos tablas estadísticas y gráficas según se considere adecuado. Target Variable: TYPE_FRAUD Tabla tabla_y &lt;- df %&gt;% count(TYPE_FRAUD, name = &quot;Fraude&quot;) %&gt;% mutate(Porcentaje = round(Fraude / sum(Fraude) * 100, 1)) kable(tabla_y) TYPE_FRAUD Fraude Porcentaje F 1944 0.3 _Z 660672 99.7 La variable TYPE_FRAUD representa la clasificación del fraude indentificado en una transacción. Del total de observaciones, 660.672 no están relacionadas a un caso de fraude, mientras que 1944 transacciones fueron marcadas como movimientos fraudulentos. Debido al alto desequilibrio entre las observaciones legales y las transacciones fraudulentas se debe tener mucha precaución a la hora de construir el modelo de predicción. Gráfico tabla_y %&gt;% ggplot(aes(x = factor(TYPE_FRAUD), y = Fraude)) + geom_col(fill = &quot;#008B8B&quot;, width = 0.6) + geom_text(aes(label = paste0(Fraude, &quot; (&quot;, Porcentaje, &quot;%)&quot;)), vjust = -0.5, size = 3) + scale_y_continuous(labels = comma) + labs(x = &quot;Tipo de transacción&quot;, y = &quot;Núm. de transacciones&quot;) + theme_bw(base_size = 14) + theme( plot.title = element_blank(), strip.background = element_rect(fill = &quot;gray80&quot;, color = NA), strip.text = element_text(face = &quot;bold&quot;), panel.grid.major.y = element_blank(), axis.text.y = element_text(size = 8) ) Este gráfico muestra la distribución del tipo de transacción, confirmando que la mayoria de transacciones observadas no fueron marcadas como fraude. Puntualmente el 99.7% de las transacciones fueron consideradas legales, mientras que el 0.3% fueron asociadas con algún comportamiento irregular. Esta notable diferencia indica un alto desbalance en las clases de la variable objetivo, lo cual es importante destacar al momento de construir modelos predictivos. Variables Características A continuación se examinarán detenidamente cada una de las variables. Categóricas FREQ Describe la recurrencia con la que se realiza determinado pago (Anual, trimestral, semestral, etc.). Se categoriza en: - A: Transacciones anuales - H: Transacciones semestrales - Q: Transacciones trimestrales Tabla tabla_freq &lt;- df %&gt;% count(Categoria=FREQ, name = &quot;Frecuencia&quot;) %&gt;% mutate(Porcentaje = round(Frecuencia / sum(Frecuencia) * 100, 2)) kable(tabla_freq) Categoria Frecuencia Porcentaje A 275179 41.53 H 236884 35.75 Q 150553 22.72 Gráfico # Gráfico tabla_freq %&gt;% ggplot(aes(x = factor(Categoria), y = Frecuencia)) + geom_col(fill = &quot;#008B8B&quot;, width = 0.6) + geom_text(aes(label = paste0(Frecuencia, &quot; (&quot;, Porcentaje, &quot;%)&quot;)), vjust = -0.5, size = 3) + scale_y_continuous(labels = comma) + labs(x = &quot;Frecuencia de transacción&quot;, y = &quot;Núm. de transacciones&quot;) + theme_bw(base_size = 14) + theme( plot.title = element_blank(), strip.background = element_rect(fill = &quot;gray80&quot;, color = NA), strip.text = element_text(face = &quot;bold&quot;), panel.grid.major.y = element_blank(), axis.text.y = element_text(size = 8) ) La tabla y gráfico anteriores describen la distribución de la variable FREQ del dataset, que permite caracterizar la recurrencia habitual de las transacciones. Las transacciones anuales (A) representan un 41.53% del total, mientras que la frecuencia semestral (H) y trimestral (Q) agrupan un 35.75% y 22.72%, cada una. En números exactos esto es 275.179, 236.884 y 150.553 transacciones respectivamente. COUNTRY Presenta el código del país origen del movimiento bancario. Tabla lookup &lt;- tibble( Categoria = c(&quot;RO&quot;,&quot;HU&quot;,&quot;PL&quot;,&quot;CZ&quot;,&quot;NL&quot;,&quot;PT&quot;,&quot;LT&quot;,&quot;DE&quot;,&quot;FI&quot;,&quot;LU&quot;,&quot;GR&quot;,&quot;BE&quot;,&quot;ES&quot;,&quot;LV&quot;,&quot;IT&quot;,&quot;AT&quot;,&quot;FR&quot;,&quot;IE&quot;,&quot;CY&quot;,&quot;EE&quot;,&quot;SK&quot;,&quot;SI&quot;,&quot;MT&quot;,&quot;BG&quot;,&quot;HR&quot;,&quot;DK&quot;,&quot;U2&quot;,&quot;B0&quot;,&quot;SE&quot;), NombrePais = c(&quot;Romania&quot;,&quot;Hungary&quot;,&quot;Poland&quot;,&quot;Czech Republic&quot;,&quot;Netherlands&quot;,&quot;Portugal&quot;,&quot;Lithuania&quot;,&quot;Germany&quot;,&quot;Finland&quot;,&quot;Luxembourg&quot;,&quot;Greece&quot;,&quot;Belgium&quot;,&quot;Spain&quot;,&quot;Latvia&quot;,&quot;Italy&quot;,&quot;Austria&quot;,&quot;France&quot;,&quot;Ireland&quot;,&quot;Cyprus&quot;,&quot;Estonia&quot;,&quot;Slovakia&quot;,&quot;Slovenia&quot;,&quot;Malta&quot;,&quot;Bulgaria&quot;,&quot;Croatia&quot;,&quot;Denmark&quot;,&quot;Euro Area changing composition&quot;,&quot;EU changing composition&quot;,&quot;Sweden&quot;) ) tabla_country &lt;- df %&gt;% count(Categoria=COUNTRY, name = &quot;Frecuencia&quot;) %&gt;% mutate(Porcentaje = round(Frecuencia / sum(Frecuencia) * 100, 2)) %&gt;% arrange(desc(Frecuencia)) %&gt;% left_join(lookup, by = &quot;Categoria&quot;) %&gt;% mutate(Categoria = factor(Categoria, levels = Categoria)) kable(tabla_country) %&gt;% scroll_box(width = &quot;100%&quot;, height = &quot;400px&quot;) Categoria Frecuencia Porcentaje NombrePais RO 28816 4.35 Romania HU 28794 4.35 Hungary PL 28267 4.27 Poland CZ 28133 4.25 Czech Republic NL 27274 4.12 Netherlands PT 25672 3.87 Portugal LT 25590 3.86 Lithuania DE 25219 3.81 Germany FI 25162 3.80 Finland LU 25156 3.80 Luxembourg GR 25146 3.79 Greece BE 25145 3.79 Belgium ES 25139 3.79 Spain LV 25132 3.79 Latvia IT 25130 3.79 Italy AT 25125 3.79 Austria FR 25119 3.79 France IE 25115 3.79 Ireland CY 25109 3.79 Cyprus EE 25108 3.79 Estonia SK 25108 3.79 Slovakia SI 25104 3.79 Slovenia MT 25090 3.79 Malta BG 24652 3.72 Bulgaria HR 23980 3.62 Croatia DK 10768 1.63 Denmark U2 3352 0.51 Euro Area changing composition B0 3220 0.49 EU changing composition SE 1991 0.30 Sweden Gráfico # Gráfico tabla_country %&gt;% ggplot(aes(x = Categoria, y = Frecuencia)) + geom_col(fill = &quot;#008B8B&quot;, width = 0.6) + geom_text(aes(label = paste0(&quot; (&quot;, Porcentaje, &quot;%)&quot;)), vjust = -0.5, size = 1.7) + scale_y_continuous(labels = comma) + labs(x = &quot;País&quot;, y = &quot;Núm. de transacciones&quot;) + theme_bw(base_size = 12) + theme( plot.title = element_blank(), strip.background = element_rect(fill = &quot;gray80&quot;, color = NA), strip.text = element_text(face = &quot;bold&quot;), panel.grid.major.y = element_blank(), axis.text.y = element_text(size = 8) ) La tabla y gráfico anteriores describen la distribución de la variable COUNTRY del dataset, que permite caracterizar el origen de las transacciones. A simple vista se puede notar que los países tienen frecuencias muy similares, no hay único país que destaque de forma dominante frente a los demás. Romania, Hungría, Polonia, República Checa y Paises bajos son los 5 territorios con el porcentaje de origen más alto superior al 4% cada uno. Por otro lado, encontramos entidades especiales como la “Euro Area changing composition” y “EU changing composition” que presentan una baja frecuencia frente a otros mercados (menos del 1%). Euro Area changing composition/EU changing composition: hace referencia a países que han sido incluidos/excluidos de la zona del euro o en la unión europea en el transcurso de los años. Por ejemplo, Grecia se incorporó al uso del euro en el año 2000, mientras que Groenlandia que se retiró de la Unión Europea (anteriormente Comunidad Europea) en 1985. "],["analisis-bivariado.html", "Chapter 3 Analisis Bivariado 3.1 Chapters and sub-chapters 3.2 Captioned figures and tables", " Chapter 3 Analisis Bivariado Cross-references make it easier for your readers to find and link to elements in your book. 3.1 Chapters and sub-chapters There are two steps to cross-reference any heading: Label the heading: # Hello world {#nice-label}. Leave the label off if you like the automated heading generated based on your heading title: for example, # Hello world = # Hello world {#hello-world}. To label an un-numbered heading, use: # Hello world {-#nice-label} or {# Hello world .unnumbered}. Next, reference the labeled heading anywhere in the text using \\@ref(nice-label); for example, please see Chapter ??. If you prefer text as the link instead of a numbered reference use: any text you want can go here. 3.2 Captioned figures and tables Figures and tables with captions can also be cross-referenced from elsewhere in your book using \\@ref(fig:chunk-label) and \\@ref(tab:chunk-label), respectively. See Figure 3.1. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 3.1: Here is a nice figure! Don’t miss Table 3.1. knitr::kable( head(pressure, 10), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 3.1: Here is a nice table! temperature pressure 0 0.0002 20 0.0012 40 0.0060 60 0.0300 80 0.0900 100 0.2700 120 0.7500 140 1.8500 160 4.2000 180 8.8000 "],["parts.html", "Chapter 4 Parts", " Chapter 4 Parts You can add parts to organize one or more book chapters together. Parts can be inserted at the top of an .Rmd file, before the first-level chapter heading in that same file. Add a numbered part: # (PART) Act one {-} (followed by # A chapter) Add an unnumbered part: # (PART\\*) Act one {-} (followed by # A chapter) Add an appendix as a special kind of un-numbered part: # (APPENDIX) Other stuff {-} (followed by # A chapter). Chapters in an appendix are prepended with letters instead of numbers. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
